MDScreen:

    MDNavigationLayout:

        MDScreenManager:
            id: screen_manager

            MDScreen:
                name: "login_screen"

                GridLayout:
                    rows: 3

                    MDTopAppBar:
                        title: "GlisWeb app"
                        pos_hint: {"top": 1}
                        md_bg_color: app.theme_cls.primary_color
                        elevation: 0
                        left_action_items:
                            [['menu', lambda x: nav_drawer.set_state("open")]]

                    ScrollView:

                        MDLabel:
                            id: mdlab
                            text: "Hello, World!"
                            # font_style: "H1"
                            text_size: self.width, None
                            size_hint_y: None
                            height: self.texture_size[1]

                    MDRectangleFlatButton:
                        id: mdbtn
                        text: "Click me!"
                        size_hint_x: 1.0
                        on_press: app.askconfig()

            MDScreen:
                name: "test_screen"

                GridLayout:
                    rows: 3

                    MDTopAppBar:
                        title: "GlisWeb app"
                        pos_hint: {"top": 1}
                        md_bg_color: app.theme_cls.primary_color
                        elevation: 0
                        left_action_items:
                            [['menu', lambda x: nav_drawer.set_state("open")]]

                    MDLabel:
                        text: "test screen"
                        text_size: self.width, None
                        size_hint_y: None
                        height: self.texture_size[1]

        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:

                MDNavigationDrawerItem:
                    text: "login"
                    on_press: screen_manager.current = "login_screen"
                    on_release: nav_drawer.set_state("close")

                MDNavigationDrawerItem:
                    text: "test"
                    on_press: screen_manager.current = "test_screen"
                    on_release: nav_drawer.set_state("close")

                MDNavigationDrawerItem:
                    text: "esci"
                    on_press: app.stop()

